"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/checkout";
exports.ids = ["pages/api/checkout"];
exports.modules = {

/***/ "(api)/./pages/api/checkout.route.ts":
/*!*************************************!*\
  !*** ./pages/api/checkout.route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler),\n/* harmony export */   \"invalidAddress\": () => (/* binding */ invalidAddress),\n/* harmony export */   \"validCard\": () => (/* binding */ validCard),\n/* harmony export */   \"withoutAuthorizationCard\": () => (/* binding */ withoutAuthorizationCard),\n/* harmony export */   \"withoutFundsCard\": () => (/* binding */ withoutFundsCard)\n/* harmony export */ });\n/* harmony import */ var dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dh-marvel/services/checkout/checkout.errors */ \"(api)/./services/checkout/checkout.errors.ts\");\n\nconst serverError = \"error\";\nconst invalidAddress = \"invalid\";\nconst validCard = \"4242 4242 4242 4242\".replace(\" \", \"\");\nconst withoutFundsCard = \"4111 4111 4111 4111\".replace(\" \", \"\");\nconst withoutAuthorizationCard = \"4000 4000 4000 4000\".replace(\" \", \"\");\nfunction handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.status(405).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_METHOD_NOT_ALLOWED);\n        return;\n    }\n    try {\n        const body = req.body;\n        if (body.customer.address.address2 === invalidAddress) {\n            res.status(400).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_INCORRECT_ADDRESS);\n            return;\n        }\n        if (body.card.number === withoutFundsCard) {\n            res.status(400).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_CARD_WITHOUT_FUNDS);\n            return;\n        }\n        if (body.card.number === withoutAuthorizationCard) {\n            res.status(400).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_CARD_WITHOUT_AUTHORIZATION);\n            return;\n        }\n        if (body.card.number === validCard) {\n            res.status(200).json({\n                data: body\n            });\n            return;\n        }\n        res.status(400).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_CARD_DATA_INCORRECT);\n    } catch (err) {\n        console.log(err);\n        res.status(500).json(dh_marvel_services_checkout_checkout_errors__WEBPACK_IMPORTED_MODULE_0__.ERROR_SERVER);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2hlY2tvdXQucm91dGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU3FEO0FBRXJELE1BQU1NLFdBQVcsR0FBRyxPQUFPO0FBQ3BCLE1BQU1DLGNBQWMsR0FBRyxTQUFTLENBQUM7QUFDakMsTUFBTUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pELE1BQU1DLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDRCxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLE1BQU1FLHdCQUF3QixHQUFHLHFCQUFxQixDQUFDRixPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBV2hFLFNBQVNHLE9BQU8sQ0FDN0JDLEdBQW1CLEVBQ25CQyxHQUEwQixFQUMxQjtJQUNBLElBQUlELEdBQUcsQ0FBQ0UsTUFBTSxLQUFLLE1BQU0sRUFBRTtRQUN6QkQsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ2IsaUdBQXdCLENBQUMsQ0FBQztRQUMvQyxPQUFPO0tBQ1I7SUFDRCxJQUFJO1FBQ0YsTUFBTWMsSUFBSSxHQUFrQkwsR0FBRyxDQUFDSyxJQUFJO1FBQ3BDLElBQUlBLElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUNDLFFBQVEsS0FBS2QsY0FBYyxFQUFFO1lBQ3JETyxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDZCxnR0FBdUIsQ0FBQyxDQUFDO1lBQzlDLE9BQU87U0FDUjtRQUNELElBQUllLElBQUksQ0FBQ0ksSUFBSSxDQUFDQyxNQUFNLEtBQUtiLGdCQUFnQixFQUFFO1lBQ3pDSSxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDZixpR0FBd0IsQ0FBQyxDQUFDO1lBQy9DLE9BQU87U0FDUjtRQUNELElBQUlnQixJQUFJLENBQUNJLElBQUksQ0FBQ0MsTUFBTSxLQUFLWix3QkFBd0IsRUFBRTtZQUNqREcsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ2hCLHlHQUFnQyxDQUFDLENBQUM7WUFDdkQsT0FBTztTQUNSO1FBQ0QsSUFBSWlCLElBQUksQ0FBQ0ksSUFBSSxDQUFDQyxNQUFNLEtBQUtmLFNBQVMsRUFBRTtZQUNsQ00sR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFBRU8sSUFBSSxFQUFFTixJQUFJO2FBQUUsQ0FBQyxDQUFDO1lBQ3JDLE9BQU87U0FDUjtRQUNESixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDakIsa0dBQXlCLENBQUMsQ0FBQztLQUNqRCxDQUFDLE9BQU95QixHQUFHLEVBQUU7UUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCWCxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDWixxRkFBWSxDQUFDLENBQUM7S0FDcEM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2N0ZC1lc3AtZmUzLWZpbmFsLy4vcGFnZXMvYXBpL2NoZWNrb3V0LnJvdXRlLnRzPzk2MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHsgQ2hlY2tvdXRJbnB1dCB9IGZyb20gXCJkaC1tYXJ2ZWwvZmVhdHVyZXMvY2hlY2tvdXQvY2hlY2tvdXQudHlwZXNcIjtcclxuaW1wb3J0IHtcclxuICBFUlJPUl9DQVJEX0RBVEFfSU5DT1JSRUNULFxyXG4gIEVSUk9SX0NBUkRfV0lUSE9VVF9BVVRIT1JJWkFUSU9OLFxyXG4gIEVSUk9SX0NBUkRfV0lUSE9VVF9GVU5EUyxcclxuICBFUlJPUl9JTkNPUlJFQ1RfQUREUkVTUyxcclxuICBFUlJPUl9NRVRIT0RfTk9UX0FMTE9XRUQsXHJcbiAgRVJST1JfU0VSVkVSLFxyXG59IGZyb20gXCJkaC1tYXJ2ZWwvc2VydmljZXMvY2hlY2tvdXQvY2hlY2tvdXQuZXJyb3JzXCI7XHJcblxyXG5jb25zdCBzZXJ2ZXJFcnJvciA9IFwiZXJyb3JcIjtcclxuZXhwb3J0IGNvbnN0IGludmFsaWRBZGRyZXNzID0gXCJpbnZhbGlkXCI7XHJcbmV4cG9ydCBjb25zdCB2YWxpZENhcmQgPSBcIjQyNDIgNDI0MiA0MjQyIDQyNDJcIi5yZXBsYWNlKFwiIFwiLCBcIlwiKTtcclxuZXhwb3J0IGNvbnN0IHdpdGhvdXRGdW5kc0NhcmQgPSBcIjQxMTEgNDExMSA0MTExIDQxMTFcIi5yZXBsYWNlKFwiIFwiLCBcIlwiKTtcclxuZXhwb3J0IGNvbnN0IHdpdGhvdXRBdXRob3JpemF0aW9uQ2FyZCA9IFwiNDAwMCA0MDAwIDQwMDAgNDAwMFwiLnJlcGxhY2UoXCIgXCIsIFwiXCIpO1xyXG5cclxudHlwZSBEYXRhID1cclxuICB8IHtcclxuICAgICAgZGF0YTogYW55O1xyXG4gICAgfVxyXG4gIHwge1xyXG4gICAgICBlcnJvcjogc3RyaW5nO1xyXG4gICAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICB9O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlPERhdGE+XHJcbikge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oRVJST1JfTUVUSE9EX05PVF9BTExPV0VEKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHk6IENoZWNrb3V0SW5wdXQgPSByZXEuYm9keTtcclxuICAgIGlmIChib2R5LmN1c3RvbWVyLmFkZHJlc3MuYWRkcmVzczIgPT09IGludmFsaWRBZGRyZXNzKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKEVSUk9SX0lOQ09SUkVDVF9BRERSRVNTKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvZHkuY2FyZC5udW1iZXIgPT09IHdpdGhvdXRGdW5kc0NhcmQpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oRVJST1JfQ0FSRF9XSVRIT1VUX0ZVTkRTKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvZHkuY2FyZC5udW1iZXIgPT09IHdpdGhvdXRBdXRob3JpemF0aW9uQ2FyZCkge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihFUlJPUl9DQVJEX1dJVEhPVVRfQVVUSE9SSVpBVElPTik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChib2R5LmNhcmQubnVtYmVyID09PSB2YWxpZENhcmQpIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiBib2R5IH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbihFUlJPUl9DQVJEX0RBVEFfSU5DT1JSRUNUKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihFUlJPUl9TRVJWRVIpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiRVJST1JfQ0FSRF9EQVRBX0lOQ09SUkVDVCIsIkVSUk9SX0NBUkRfV0lUSE9VVF9BVVRIT1JJWkFUSU9OIiwiRVJST1JfQ0FSRF9XSVRIT1VUX0ZVTkRTIiwiRVJST1JfSU5DT1JSRUNUX0FERFJFU1MiLCJFUlJPUl9NRVRIT0RfTk9UX0FMTE9XRUQiLCJFUlJPUl9TRVJWRVIiLCJzZXJ2ZXJFcnJvciIsImludmFsaWRBZGRyZXNzIiwidmFsaWRDYXJkIiwicmVwbGFjZSIsIndpdGhvdXRGdW5kc0NhcmQiLCJ3aXRob3V0QXV0aG9yaXphdGlvbkNhcmQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImJvZHkiLCJjdXN0b21lciIsImFkZHJlc3MiLCJhZGRyZXNzMiIsImNhcmQiLCJudW1iZXIiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/checkout.route.ts\n");

/***/ }),

/***/ "(api)/./services/checkout/checkout.errors.ts":
/*!**********************************************!*\
  !*** ./services/checkout/checkout.errors.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERROR_CARD_DATA_INCORRECT\": () => (/* binding */ ERROR_CARD_DATA_INCORRECT),\n/* harmony export */   \"ERROR_CARD_WITHOUT_AUTHORIZATION\": () => (/* binding */ ERROR_CARD_WITHOUT_AUTHORIZATION),\n/* harmony export */   \"ERROR_CARD_WITHOUT_FUNDS\": () => (/* binding */ ERROR_CARD_WITHOUT_FUNDS),\n/* harmony export */   \"ERROR_INCORRECT_ADDRESS\": () => (/* binding */ ERROR_INCORRECT_ADDRESS),\n/* harmony export */   \"ERROR_METHOD_NOT_ALLOWED\": () => (/* binding */ ERROR_METHOD_NOT_ALLOWED),\n/* harmony export */   \"ERROR_SERVER\": () => (/* binding */ ERROR_SERVER)\n/* harmony export */ });\nconst ERROR_METHOD_NOT_ALLOWED = {\n    error: \"METHOD_NOT_ALLOWED\",\n    message: \"Method not allowed\"\n};\nconst ERROR_CARD_WITHOUT_FUNDS = {\n    error: \"CARD_WITHOUT_FUNDS\",\n    message: \"The card doesn't have the require amount to do the transfer\"\n};\nconst ERROR_CARD_WITHOUT_AUTHORIZATION = {\n    error: \"CARD_WITHOUT_AUTHORIZATION\",\n    message: \"The card cannot authorize the payment. Please call your bank before try again\"\n};\nconst ERROR_CARD_DATA_INCORRECT = {\n    error: \"CARD_DATA_INCORRECT\",\n    message: \"The card data is not valid. Please review your data and submit it again\"\n};\nconst ERROR_INCORRECT_ADDRESS = {\n    error: \"INCORRECT_ADDRESS\",\n    message: \"The address data is invalid. Please review your data and submit it again\"\n};\nconst ERROR_SERVER = {\n    error: \"SERVER_ERROR\",\n    message: \"Server error. Please try again in a few seconds\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2aWNlcy9jaGVja291dC9jaGVja291dC5lcnJvcnMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQU8sTUFBTUEsd0JBQXdCLEdBQUc7SUFDdENDLEtBQUssRUFBRSxvQkFBb0I7SUFDM0JDLE9BQU8sRUFBRSxvQkFBb0I7Q0FDOUIsQ0FBQztBQUVLLE1BQU1DLHdCQUF3QixHQUFHO0lBQ3RDRixLQUFLLEVBQUUsb0JBQW9CO0lBQzNCQyxPQUFPLEVBQUUsNkRBQTZEO0NBQ3ZFLENBQUM7QUFFSyxNQUFNRSxnQ0FBZ0MsR0FBRztJQUM5Q0gsS0FBSyxFQUFFLDRCQUE0QjtJQUNuQ0MsT0FBTyxFQUNMLCtFQUErRTtDQUNsRixDQUFDO0FBRUssTUFBTUcseUJBQXlCLEdBQUc7SUFDdkNKLEtBQUssRUFBRSxxQkFBcUI7SUFDNUJDLE9BQU8sRUFDTCx5RUFBeUU7Q0FDNUUsQ0FBQztBQUVLLE1BQU1JLHVCQUF1QixHQUFHO0lBQ3JDTCxLQUFLLEVBQUUsbUJBQW1CO0lBQzFCQyxPQUFPLEVBQ0wsMEVBQTBFO0NBQzdFLENBQUM7QUFFSyxNQUFNSyxZQUFZLEdBQUc7SUFDMUJOLEtBQUssRUFBRSxjQUFjO0lBQ3JCQyxPQUFPLEVBQUUsaURBQWlEO0NBQzNELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jdGQtZXNwLWZlMy1maW5hbC8uL3NlcnZpY2VzL2NoZWNrb3V0L2NoZWNrb3V0LmVycm9ycy50cz81NmVhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFUlJPUl9NRVRIT0RfTk9UX0FMTE9XRUQgPSB7XHJcbiAgZXJyb3I6IFwiTUVUSE9EX05PVF9BTExPV0VEXCIsXHJcbiAgbWVzc2FnZTogXCJNZXRob2Qgbm90IGFsbG93ZWRcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBFUlJPUl9DQVJEX1dJVEhPVVRfRlVORFMgPSB7XHJcbiAgZXJyb3I6IFwiQ0FSRF9XSVRIT1VUX0ZVTkRTXCIsXHJcbiAgbWVzc2FnZTogXCJUaGUgY2FyZCBkb2Vzbid0IGhhdmUgdGhlIHJlcXVpcmUgYW1vdW50IHRvIGRvIHRoZSB0cmFuc2ZlclwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEVSUk9SX0NBUkRfV0lUSE9VVF9BVVRIT1JJWkFUSU9OID0ge1xyXG4gIGVycm9yOiBcIkNBUkRfV0lUSE9VVF9BVVRIT1JJWkFUSU9OXCIsXHJcbiAgbWVzc2FnZTpcclxuICAgIFwiVGhlIGNhcmQgY2Fubm90IGF1dGhvcml6ZSB0aGUgcGF5bWVudC4gUGxlYXNlIGNhbGwgeW91ciBiYW5rIGJlZm9yZSB0cnkgYWdhaW5cIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBFUlJPUl9DQVJEX0RBVEFfSU5DT1JSRUNUID0ge1xyXG4gIGVycm9yOiBcIkNBUkRfREFUQV9JTkNPUlJFQ1RcIixcclxuICBtZXNzYWdlOlxyXG4gICAgXCJUaGUgY2FyZCBkYXRhIGlzIG5vdCB2YWxpZC4gUGxlYXNlIHJldmlldyB5b3VyIGRhdGEgYW5kIHN1Ym1pdCBpdCBhZ2FpblwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEVSUk9SX0lOQ09SUkVDVF9BRERSRVNTID0ge1xyXG4gIGVycm9yOiBcIklOQ09SUkVDVF9BRERSRVNTXCIsXHJcbiAgbWVzc2FnZTpcclxuICAgIFwiVGhlIGFkZHJlc3MgZGF0YSBpcyBpbnZhbGlkLiBQbGVhc2UgcmV2aWV3IHlvdXIgZGF0YSBhbmQgc3VibWl0IGl0IGFnYWluXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgRVJST1JfU0VSVkVSID0ge1xyXG4gIGVycm9yOiBcIlNFUlZFUl9FUlJPUlwiLFxyXG4gIG1lc3NhZ2U6IFwiU2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGluIGEgZmV3IHNlY29uZHNcIixcclxufTtcclxuIl0sIm5hbWVzIjpbIkVSUk9SX01FVEhPRF9OT1RfQUxMT1dFRCIsImVycm9yIiwibWVzc2FnZSIsIkVSUk9SX0NBUkRfV0lUSE9VVF9GVU5EUyIsIkVSUk9SX0NBUkRfV0lUSE9VVF9BVVRIT1JJWkFUSU9OIiwiRVJST1JfQ0FSRF9EQVRBX0lOQ09SUkVDVCIsIkVSUk9SX0lOQ09SUkVDVF9BRERSRVNTIiwiRVJST1JfU0VSVkVSIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./services/checkout/checkout.errors.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/checkout.route.ts"));
module.exports = __webpack_exports__;

})();